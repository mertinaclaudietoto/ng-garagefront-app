<p-fluid>
    <div   class="flex flex-col md:flex-row gap-8  ">
        <div class="md:w-1/2"> 
            <div *ngIf="carList" class="card flex flex-col gap-4">
                <div class="font-semibold text-xl">List Car</div>
                <p-table 
                    [paginator]="true"
                    [rows]="10"
                    [value]="carList" [tableStyle]="{ 'min-width': '50rem' }">
                    <ng-template #header>
                        <tr>
                            <th id="name">Picture</th>
                            <th id="name">Brand</th>
                            <th id="name">Model</th>
                            <th id="up">Update</th>  
                            <th id="del">Delete</th>
                        </tr>
                    </ng-template>
                    <ng-template #body let-product>
                        <tr>
                            <td>
                                <img [src]="product.picture" alt={{product.brand}}  class="flag flag-" width="30" />
                            </td>
                            <td>{{ product.brand }}</td>                   
                            <td>{{ product.model }}</td>                   
                            <td><p-button icon="pi pi-pencil" severity="success" outlined (onClick)="setUpdateValue(product)"/></td>          
                            <td><p-button icon="pi pi-trash" severity="danger" outlined (onClick)="open(product)"/></td>                   
                        </tr>
                    </ng-template>
                </p-table>
                <p-dialog header="Alert" [(visible)]="display" [breakpoints]="{ '960px': '75vw' }" [style]="{ width: '30vw' }" [modal]="true">
                    <p class="leading-normal m-0 justify-center items-center">
                        Do you really want to delete these types of cars? This action is irreversible.
                      </p>
                      
                    <ng-template #footer>
                        <p-button label="Yes"severity="danger" (onClick)="close()" />
                    </ng-template>
                </p-dialog>  
            </div>
           
           
        </div>
        <div class="md:w-1/2">
            <div class="card flex flex-col gap-4">
                    <div class="card ">
                        <div class="flex flex-wrap gap-6">
                            <div class="flex flex-col grow basis-0 gap-2">
                                <p-image [src]="addOrUpdateValue.picture" alt="Image" width="250" />
                            </div>
                            <div class="flex flex-col grow basis-0 gap-2">
                                <label for="email2">Image</label>
                                <input pInputText id="email2" type="file"  (change)="onFileSelected($event)"/>
                                <label for="email2">Marque</label>
                                <input *ngIf="addOrUpdateValue"  pInputText id="email2" type="text" [(ngModel)]="addOrUpdateValue.brand"/>
                                <label for="email2">Model</label>
                                <input *ngIf="addOrUpdateValue" pInputText id="email2" type="text" [(ngModel)]="addOrUpdateValue.model" />
                            </div>
                        </div>
                        <div class="flex flex-col gap-4 mt-10">
                        
                            <div class="flex flex-wrap gap-6">
                                <div class="flex flex-col grow basis-0 gap-2">
                                    <label for="name2">Type care</label>
                                    <p-select id="state" [(ngModel)]="addOrUpdateValue.carType" [options]="dropdownItemsCarTypes" optionLabel="name" [placeholder]="addOrUpdateValue.carType.name" class="w-full"></p-select>
                                </div>
                                <div class="flex flex-col grow basis-0 gap-2">
                                    <label for="email2">version</label>
                                    <input pInputText [(ngModel)]="addOrUpdateValue.version" id="email2" type="text" />
                                </div>
                                <div class="flex flex-col grow basis-0 gap-2">
                                    <label for="email2">date sortie</label>
                                    <input pInputText [(ngModel)]="addOrUpdateValue.datesortie" id="email2" type="date"  />
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col gap-4 mt-10">
                            <div class="flex flex-wrap gap-2">
                                <label for="username">Type moteur</label>
                                <p-select id="state" [(ngModel)]="addOrUpdateValue.engineType" [options]="dropdownItemsEngine" optionLabel="name" placeholder="engines" class="w-full"></p-select>
                            </div>
                        </div>
                        <div class="flex flex-col gap-4 mt-10">
                            
                            <div class="flex flex-wrap gap-6">
                                <div class="flex flex-col grow basis-0 gap-2">
                                    <label for="name2">Taille</label>
                                    <p-select id="state" [(ngModel)]="addOrUpdateValue.sizeType" [options]="dropdownItemsSize" optionLabel="name" [placeholder]="addOrUpdateValue.sizeType.name" class="w-full"></p-select>
                                </div>
                                <div class="flex flex-col grow basis-0 gap-2">
                                    <label for="email2">Poids</label>
                                    <p-select id="state" [(ngModel)]="addOrUpdateValue.weigthType" [options]="dropdownItemsWeigth" optionLabel="name" [placeholder]="addOrUpdateValue.weigthType.name" class="w-full"></p-select>
                                </div>
                                <div class="flex flex-col grow basis-0 gap-2">
                                    <label for="email2">Empathement</label>
                                    <input pInputText id="email2" type="text" [(ngModel)]="addOrUpdateValue.empathement" />
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-wrap items-start gap-6">
                            <p-button class="mt-5" label="validate" [fluid]="false" (onClick)="modifOrAdd(addOrUpdateValue)"></p-button>
                            <p-button class="mt-5" label="reload" [fluid]="false"(onClick)="relaod()"></p-button>
                        </div>
                    </div>
                </div>
        </div>
       
       
    </div>
    <div *ngFor="let item of crudSelect; let i = index">
        <app-car-type  [namecrud]="item"></app-car-type>
    </div>
      
   


  
</p-fluid>


